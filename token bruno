const formData = new URLSearchParams();
formData.append("client_id", "abc123");
formData.append("client_secret", "xyz456");
formData.append("grant_type", "client_credentials");
formData.append("validity_period", "3600");

const response = await fetch('https://your-auth.com/oauth/token', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/x-www-form-urlencoded',
    'Custom-Header': 'value' // add more headers if needed
  },
  body: formData.toString()
});

const data = await response.json();

// Store the token in environment variable
environment.set('auth_token', data.access_token); // Adjust if the token key is different